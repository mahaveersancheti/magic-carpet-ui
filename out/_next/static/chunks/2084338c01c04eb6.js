(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34463,e=>{"use strict";var r=e.i(64645),a=e.i(28096),t=e.i(99141);let d={user:null,token:localStorage.getItem("token"),loading:!1,error:null},o=(0,r.createAsyncThunk)("auth/login",async(e,{rejectWithValue:r})=>{try{let r=await a.api.post(t.endpoints.login,e),d=r.token||r.accessToken;return d&&localStorage.setItem("token",d),r}catch(e){return r(e.message||"Login failed")}}),l=(0,r.createAsyncThunk)("auth/register",async(e,{rejectWithValue:r})=>{try{let r=await a.api.post(t.endpoints.register,e),d=r.token||r.accessToken;return d&&localStorage.setItem("token",d),r}catch(e){return r(e.message||"Registration failed")}}),i=(0,r.createSlice)({name:"auth",initialState:d,reducers:{logout:e=>{e.user=null,e.token=null,e.error=null,localStorage.removeItem("token")},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.loading=!1,e.user=r.payload,e.token=r.payload.token||r.payload.accessToken}).addCase(o.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,r)=>{e.loading=!1,e.user=r.payload,e.token=r.payload.token||r.payload.accessToken}).addCase(l.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),{logout:s,clearError:n}=i.actions,c=i.reducer;e.s(["clearError",0,n,"default",0,c,"loginUser",0,o,"registerUser",0,l])},11687,e=>{"use strict";var r=e.i(64645),a=e.i(28096),t=e.i(99141);let d=(0,r.createAsyncThunk)("profiles/fetchProfiles",async(e,{rejectWithValue:r})=>{try{return await a.api.get(t.endpoints.profiles,{"Skip-Auth":"true"})}catch(e){return r(e.message||"Failed to fetch profiles")}}),o=(0,r.createAsyncThunk)("profiles/fetchProfileById",async(e,{rejectWithValue:r})=>{try{return await a.api.get(t.endpoints.getProfileById(e),{"Skip-Auth":"true"})}catch(e){return r(e.message||"Failed to fetch profile")}}),l=(0,r.createAsyncThunk)("profiles/createProfile",async(e,{rejectWithValue:r})=>{try{return await a.api.post(t.endpoints.createProfile,e,{"Skip-Auth":"true"})}catch(e){return r(e.message||"Failed to create profile")}}),i=(0,r.createSlice)({name:"profiles",initialState:{profiles:[],selectedProfile:null,loading:!1,error:null,createLoading:!1},reducers:{clearProfileError:e=>{e.error=null},clearSelectedProfile:e=>{e.selectedProfile=null}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.loading=!1,e.profiles=r.payload}).addCase(d.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.loading=!1,e.selectedProfile=r.payload}).addCase(o.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(l.pending,e=>{e.createLoading=!0,e.error=null}).addCase(l.fulfilled,(e,r)=>{e.createLoading=!1,e.profiles.push(r.payload)}).addCase(l.rejected,(e,r)=>{e.createLoading=!1,e.error=r.payload})}}),{clearProfileError:s,clearSelectedProfile:n}=i.actions,c=i.reducer;e.s(["clearSelectedProfile",0,n,"createProfile",0,l,"default",0,c,"fetchProfileById",0,o,"fetchProfiles",0,d])},45589,e=>{"use strict";var r=e.i(64645),a=e.i(28096),t=e.i(99141);let d=(0,r.createAsyncThunk)("products/fetchProductsByUserId",async(e,{rejectWithValue:r})=>{try{return(await a.api.get(t.endpoints.getProductsByUserId(e),{"Skip-Auth":"true"})).filter(e=>e.id&&""!==e.id.trim())}catch(e){return r(e.message||"Failed to fetch products")}}),o=(0,r.createAsyncThunk)("products/createProduct",async({userId:e,payload:r},{rejectWithValue:d})=>{try{return await a.api.post(t.endpoints.createProduct(e),r,{"Skip-Auth":"true"})}catch(e){return d(e.message||"Failed to create product")}}),l=(0,r.createAsyncThunk)("products/updateProduct",async({productId:e,userId:r,payload:d},{rejectWithValue:o})=>{try{return await a.api.put(t.endpoints.updateProduct(e,r),d,{"Skip-Auth":"true"})}catch(e){return o(e.message||"Failed to update product")}}),i=(0,r.createAsyncThunk)("products/deleteProduct",async({productId:e,userId:r},{rejectWithValue:d})=>{try{return await a.api.delete(t.endpoints.deleteProduct(e,r),{"Skip-Auth":"true"}),e}catch(e){return d(e.message||"Failed to delete product")}}),s=(0,r.createSlice)({name:"products",initialState:{products:[],loading:!1,createLoading:!1,updateLoading:!1,deleteLoading:!1,error:null},reducers:{clearProductError:e=>{e.error=null},clearProducts:e=>{e.products=[]}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(d.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(o.pending,e=>{e.createLoading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.createLoading=!1,e.products.push(r.payload)}).addCase(o.rejected,(e,r)=>{e.createLoading=!1,e.error=r.payload}).addCase(l.pending,e=>{e.updateLoading=!0,e.error=null}).addCase(l.fulfilled,(e,r)=>{e.updateLoading=!1;let a=e.products.findIndex(e=>e.id===r.payload.id);-1!==a&&(e.products[a]=r.payload)}).addCase(l.rejected,(e,r)=>{e.updateLoading=!1,e.error=r.payload}).addCase(i.pending,e=>{e.deleteLoading=!0,e.error=null}).addCase(i.fulfilled,(e,r)=>{e.deleteLoading=!1,e.products=e.products.filter(e=>e.id!==r.payload)}).addCase(i.rejected,(e,r)=>{e.deleteLoading=!1,e.error=r.payload})}}),{clearProductError:n,clearProducts:c}=s.actions,u=s.reducer;e.s(["createProduct",0,o,"default",0,u,"deleteProduct",0,i,"fetchProductsByUserId",0,d,"updateProduct",0,l])},31206,e=>{"use strict";var r=e.i(43476),a=e.i(55487),t=e.i(64645),d=e.i(34463),o=e.i(11687),l=e.i(45589);let i=(0,t.configureStore)({reducer:{auth:d.default,profiles:o.default,products:l.default}});e.s(["ReduxProvider",0,({children:e})=>(0,r.jsx)(a.Provider,{store:i,children:e})],31206)},85060,e=>{"use strict";var r=e.i(43476),a=e.i(5766),t=e.i(71645);e.s(["default",0,()=>{let{toasts:e}=(0,a.useToasterStore)();return(0,t.useEffect)(()=>{e.filter(e=>e.visible).filter((e,r)=>r>=1).forEach(e=>a.toast.dismiss(e.id))},[e]),(0,r.jsx)(a.Toaster,{})}])}]);